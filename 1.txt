üöÄ PROMPT FOR ANTIGRAVITY

Build a production-grade IoT-Based Hospital Bed Occupancy & Patient Vital Monitoring System with real-time streaming, AI anomaly detection, device management, and a fully animated 3D dashboard.

The system must be scalable to 100+ devices and follow clean modular architecture.

1Ô∏è‚É£ SYSTEM OVERVIEW

Create a full-stack system with:

ESP8266-based IoT devices

Python FastAPI backend

MySQL database

WebSocket real-time streaming

LSTM-based anomaly detection

Fully animated 3D React dashboard

Device-level API key authentication

Online/offline device monitoring

Alert engine with escalation logic

System must be modular and production-ready.

2Ô∏è‚É£ DEVICE LAYER

Each device includes:

ESP8266

Pressure sensor (bed occupancy)

MAX30100 (heart rate + SpO2)

Each device must:

Have unique device_id

Have unique api_key

Send sensor data every 5 seconds

Send heartbeat every 10 seconds

Retry on failure

Handle WiFi reconnect automatically

Backend must reject invalid API keys.

3Ô∏è‚É£ BACKEND REQUIREMENTS (FastAPI)

Build a modular FastAPI backend with:

APIs

POST /api/device/register

POST /api/device/data

POST /api/device/heartbeat

GET /api/dashboard/devices

GET /api/dashboard/device/{id}

GET /api/dashboard/alerts

WebSocket /ws/live

Features

Device authentication middleware

Real-time WebSocket broadcast

Background scheduler for offline detection

Alert engine

AI anomaly detection module

Proper logging

Rate limiting

Error handling

Async database queries

4Ô∏è‚É£ DATABASE (MySQL)

Tables:

devices
sensor_data
alerts
patients
audit_logs

Indexes must be created on:

device_id

timestamp

status

Design schema optimized for high write frequency.

5Ô∏è‚É£ AI MODULE

Create:

LSTM-based anomaly detection model

Sliding window prediction

Detect:

Abnormal heart rate

Abnormal SpO2

Sudden drop patterns

Insert alerts automatically

Push alerts via WebSocket instantly

Keep AI modular so model can be replaced later.

6Ô∏è‚É£ REAL-TIME STREAMING

Use WebSockets.

When device sends data:

Store in DB

Run AI check

Broadcast to all connected dashboard clients

Dashboard must update without refresh.

7Ô∏è‚É£ DASHBOARD (VERY IMPORTANT ‚Äì MAKE IT ADVANCED)

Build using:

React (Vite or Next.js)

TailwindCSS

Framer Motion

Three.js (for 3D visuals)

Recharts or D3.js

WebSocket client

8Ô∏è‚É£ DASHBOARD DESIGN REQUIREMENTS

Make it premium hospital-grade UI.

UI Expectations:

Dark + Neon medical theme

3D hospital floor visualization

Each bed represented as glowing 3D tile

Bed changes color based on:

Green = Stable

Yellow = Warning

Red = Critical

Grey = Offline

Live animated heartbeat waveform

Smooth number transitions

Animated SpO2 circular gauge

Real-time alert popup animation

Animated side panel

Particle background

Glassmorphism panels

Micro-interactions on hover

Smooth transitions between pages

9Ô∏è‚É£ DASHBOARD PAGES

Overview Page

3D hospital map

Total beds

Active devices

Alerts count

Occupancy %

Device Detail Page

Animated vitals graphs

Historical data chart

Bed status

Patient details

Alert history

Alerts Panel

Animated alert cards

Severity badges

Escalation status

Device Management

Add device

Assign bed

Generate API key

View online/offline status

Last seen timestamp

AI Analytics Page

Prediction confidence graph

Risk score indicator

Abnormal trend visualization

üî• ADVANCED UI FEATURES

Add:

3D rotating hospital layout

Floating glass cards

Animated pulse glow effect

Smooth loading transitions

Real-time toast notifications

Sound alert toggle

Emergency flashing mode

Live counter animations

Theme switcher (Dark / Medical Blue / Emergency Red)

10Ô∏è‚É£ PERFORMANCE REQUIREMENTS

Handle 100+ concurrent devices

WebSocket must support multiple dashboard clients

Efficient memory handling

Async code only

Optimized queries

Avoid blocking operations

11Ô∏è‚É£ SECURITY

API key authentication

CORS configuration

Input validation

SQL injection protection

Environment-based config

Logging of suspicious activity

12Ô∏è‚É£ FILE STRUCTURE

Backend must follow clean architecture:

routes/

services/

models/

ai/

utils/

middleware/

websocket/

Frontend must follow:

components/

pages/

hooks/

services/

animations/

3d/

utils/

13Ô∏è‚É£ DEPLOYMENT

Docker support

.env configuration

Production-ready settings

Scalable VPS deployment instructions

14Ô∏è‚É£ EXTRA FEATURES (OPTIONAL BUT PREFERRED)

SMS alert integration

Email alert system

Export patient vitals as CSV

Historical playback mode

Admin role & Nurse role access

JWT authentication for dashboard users

Activity logs

Build this system cleanly, modularly, and professionally.

Avoid unnecessary complexity but implement premium UI and animation quality.

Make it look like a real hospital-grade AI monitoring system, not a student project.